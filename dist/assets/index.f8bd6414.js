var y=Object.defineProperty,b=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var h=(e,t,o)=>t in e?y(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,x=(e,t)=>{for(var o in t||(t={}))N.call(t,o)&&h(e,o,t[o]);if(m)for(var o of m(t))C.call(t,o)&&h(e,o,t[o]);return e},f=(e,t)=>b(e,k(t));import{j as d,r as l,R as j,a as S}from"./vendor.9bbc3038.js";const L=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))s(n);new MutationObserver(n=>{for(const c of n)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&s(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const c={};return n.integrity&&(c.integrity=n.integrity),n.referrerpolicy&&(c.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?c.credentials="include":n.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function s(n){if(n.ep)return;n.ep=!0;const c=o(n);fetch(n.href,c)}};L();const r=d.exports.jsx,i=d.exports.jsxs,p=d.exports.Fragment,I=[{id:5,color:"text-five",text:"No Problem, I'll talk about anything"},{id:4,color:"text-four",text:"I\u2019ll talk about almost anything; a few things might be hard."},{id:3,color:"text-three",text:"I\u2019ll talk about some things, but others will be hard to say."},{id:2,color:"text-two",text:"I\u2019m not going to say much; I\u2019ll let others bring up issues."},{id:1,color:"text-one",text:"I\u2019m not going to talk at all, I don\u2019t feel safe."}];function M(){return r("div",{id:"legend",className:"flex justify-center my-10",children:r("div",{children:I.map(e=>i("div",{className:`${e.color}`,children:[r("strong",{className:"mr-2 text-xl leading-tight",children:e.id})," ",e.text]},e.id))})})}function u({size:e,speed:t}){const o={xs:"h-4 w-4",sm:"h-8 w-8",md:"h-16 w-16",lg:"h-32 w-32"};return i("svg",{className:`${{normal:"animate-spin",slow:"animate-spin-slow"}[t]||"animate-spin"} a mx-2 ${o[e]||"h-16 w-16"} text-white`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})}function $(){return r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"inline mr-1 h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}const P="https://us-central1-infopanel-bots.cloudfunctions.net/comfortCheck",T="https://storage.googleapis.com/comfort-checks";function g(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}function z(e){const t=w();return fetch(P,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,level:e})}).then(()=>E(t))}function O(e){return fetch(`${T}/data/${e}.json?time=${Date.now()}`).then(t=>t.json()).then(t=>t.sort((o,s)=>s-o))}function w(){return new URLSearchParams(window.location.search).get("id")||null}function B(e){const t=localStorage.getItem("comfortCheck");return e==t}function E(e){localStorage.setItem("comfortCheck",e)}const A=[{value:5,color:"text-five border-five"},{value:4,color:"text-four border-four"},{value:3,color:"text-three border-three"},{value:2,color:"text-two border-two"},{value:1,color:"text-one border-one"}];function R({setPicked:e}){const[t,o]=l.exports.useState(!1);return i("div",{className:"my-5",children:[r("p",{className:"text-2xl mb-10 text-center",children:"My current comfort level is: "}),i("div",{className:"flex flex-wrap justify-around",children:[!t&&A.map(s=>l.exports.createElement(F,f(x({},s),{key:s.value,onClick:()=>{o(!0),z(s.value).then(()=>e(!0))}}))),t&&r(u,{})]})]})}function F({value:e,color:t,onClick:o}){return r("button",{className:`text-4xl font-bold border-2 rounded-full m-1 px-4 py-1 ${t} opacity-70 hover:opacity-100`,onClick:o,children:r("span",{children:e})})}const W={5:"bg-five",4:"bg-four ",3:"bg-three",2:"bg-two",1:"bg-one"};function D({id:e}){const[t,o]=l.exports.useState(null),[s,n]=l.exports.useState(!1),c=()=>O(e).then(o).catch(()=>n(!0));return l.exports.useEffect(c,[]),l.exports.useEffect(()=>{if(s)return;const a=setTimeout(c,10*1e3);return()=>clearTimeout(a)},[t]),i(p,{children:[s&&i("div",{className:"text-center text-xl my-10 text-gray-400",children:[r($,{}),"Something went wrong"]}),i("div",{className:"text-gray-900 flex flex-wrap justify-center max-w-xl",children:[!t&&!s&&r(u,{}),t==null?void 0:t.map((a,v)=>r(H,{value:a},v))]}),t&&!s&&i("div",{className:"flex justify-center items-center mt-5 text-gray-500",children:[r(u,{size:"xs",speed:"slow"})," updating"]})]})}function H({value:e}){return r("div",{className:`flex items-center justify-center text-4xl font-bold rounded-full m-2 h-16 w-16 ${W[e]}`,children:e})}function U(){const e=g();return r("div",{className:"text-center my-20",children:r("a",{href:`?id=${e}`,className:"bg-five text-gray-800 font-bold px-4 py-2 text-2xl rounded-lg",children:"New Comfort Check"})})}function _(){const[e,t]=l.exports.useState(!1),o=`${window.location}`;return r("div",{className:"my-5 flex justify-center",children:i("button",{onClick:()=>{navigator.clipboard.writeText(o),t(!0),setTimeout(()=>t(!1),3e3)},className:"border-2 rounded-lg border-gray-200 hover:border-white px-4 py-2 flex",children:[e?q:J," Share Url"]})})}const q=r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),J=r("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 inline mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})});function K(){const e=w(),[t,o]=l.exports.useState(B(e));return r("div",{className:"flex justify-center",children:i("div",{id:"main",className:"p-5 lg:p-10 ",children:[r("h1",{className:"text-center mb-5",children:"Comfort Check"}),!e&&r(U,{}),e&&i(p,{children:[r(_,{}),!t&&r(R,{setPicked:o}),t&&r(D,{id:e}),r(M,{})]}),r(V,{id:e})]})})}function V({id:e}){return i("div",{className:"text-gray-400 mt-20 flex justify-center flex-wrap",children:[r("a",{href:"https://www.funretrospectives.com/the-retrospective-prime-directive/",className:"mx-5 block",target:"_blank",children:"the prime directive"}),r("a",{href:"https://www.funretrospectives.com/safety-check/",className:"mx-5 block",target:"_blank",children:"how to check comfort"}),e&&r("a",{href:`?id=${g()}`,className:"mx-5 block",children:"new comfort check"})]})}j.render(r(S.StrictMode,{children:r(K,{})}),document.getElementById("root"));
